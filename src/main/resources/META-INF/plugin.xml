<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.only52607.vividbatis</id>
    <name>VividBatis</name>
    <vendor>only52607</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.xml</depends>
    <depends>com.intellij.modules.java</depends>
    <depends optional="true" config-file="mybatis-ognl-injections.xml">org.intellij.intelliLang</depends>

    <resource-bundle>messages.MyBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Tool Window -->
        <toolWindow factoryClass="com.github.only52607.vividbatis.mybatis.toolwindow.SqlPreviewWindow$Factory"
                    id="VividBatis"
                    anchor="right"
                    canCloseContents="false"
                    icon="AllIcons.Actions.Preview"/>
        
        <!-- Line Marker Provider -->
        <codeInsight.lineMarkerProvider language="XML" 
                                        implementationClass="com.github.only52607.vividbatis.mybatis.linemarker.MybatisStatementLineMarkerProvider"/>
        
        <!-- OGNL Language Support -->
        <fileType name="OGNL" 
                  implementationClass="com.github.only52607.vividbatis.language.OgnlFileType" 
                  fieldName="INSTANCE" 
                  language="OGNL" 
                  extensions="ognl"/>
        
        <lang.parserDefinition language="OGNL" 
                               implementationClass="com.github.only52607.vividbatis.language.OgnlParserDefinition"/>
        
        <lang.syntaxHighlighterFactory language="OGNL" 
                                       implementationClass="com.github.only52607.vividbatis.language.OgnlSyntaxHighlighterFactory"/>
        
        <!-- OGNL Language Injection -->
        <multiHostInjector implementation="com.github.only52607.vividbatis.language.injection.MybatisOgnlInjector"/>
    </extensions>
</idea-plugin>
